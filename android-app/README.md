# تطبيق Dyad للأندرويد (نسخة محسّنة للشاشات الصغيرة)

هذا المستودع يقدم تطبيق أندرويد حقيقي مبني لاستضافة وتجسيد مشروع Dyad داخل تطبيق أندرويد مع واجهة محسّنة للشاشات الصغيرة (4–7 بوصة) وتركيز خاص على الهواتف 4–5 بوصة. يعتمد التطبيق على WebView لعرض تطبيق Dyad بمرونة مع تحسينات على الأداء والاستهلاك وواجهة الاستخدام.

## المتطلبات
- Android Studio Giraffe أو أحدث
- JDK 17
- اتصال إنترنت (لتحميل تبعيات Gradle عند أول بناء)

## البناء والتشغيل محليًا
1. افتح المجلد `android-app/` في Android Studio.
2. انتظر مزامنة Gradle.
3. شغّل الهدف `app` على جهاز حقيقي (مستحسن) أو محاكي.

> الميزة: التخطيطات والتصميم تم ضبطها لتناسب الشاشات الصغيرة جدًا. تم استخدام أحجام نصوص وأشرطة أدوات صغيرة، وتفعيل Edge-to-Edge.

## الإعدادات الرئيسية
- الحزمة: `com.dyad.android`
- الحد الأدنى: `minSdk=24`
- الهدف: `targetSdk=34`
- عنوان البدء: قيمة `@string/dyad_url` ويمكنك تعديلها إلى عنوان تطبيق Dyad الإنتاجي.

## GitHub Actions (CI)
يوجد ملف سير العمل في `.github/workflows/android.yml` يقوم بالتالي:
- إعداد JDK 17
- تثبيت Gradle (لاستخدامه في توليد الـ Wrapper إذا لم يكن موجودًا)
- بناء إصداري Debug و Release
- رفع ملفات APK كمخرجات Artifacts

للنشر الموقّع تلقائيًا، أضف الأسرار التالية في إعدادات المستودع واستبدل خطوات البناء:
- `ANDROID_KEYSTORE_BASE64`
- `ANDROID_KEYSTORE_PASSWORD`
- `ANDROID_KEY_ALIAS`
- `ANDROID_KEY_PASSWORD`

ثم عدّل خطوة `assembleRelease` لتشمل توقيع الإصدارات.

## تحسينات الشاشات الصغيرة
- شريط أدوات بارتفاع 48dp
- أحجام نصوص مصغّرة (`12sp`, `14sp`, `16sp`)
- تعطيل تكبير WebView الافتراضي مع حقن `meta viewport` لضبط القياس
- وضع سحب للتحديث، ومؤشر تقدم، وعرض أخطاء خفيف مع زر إعادة المحاولة
- فتح الروابط الخارجية خارج نطاق Dyad عبر Custom Tabs للحفاظ على المساحة داخل التطبيق

## المجلدات
- `app/src/main/kotlin/com/dyad/android/MainActivity.kt`: النشاط الرئيسي مع WebView
- `app/src/main/res/layout/`: تخطيطات الواجهة
- `app/src/main/res/values/`: ألوان، سلاسل، أبعاد، وثيمات

## ملاحظات
- إذا كان لدى مشروع Dyad توجيهات مسارات/نطاقات مخصصة للمجال أو مسار التطبيق، حدث `@string/dyad_url` وفقًا لذلك.
- في حال اعتماد Dyad على واجهات Electron/Node غير متاحة في المتصفح، يلزم توفير بدائل عبر واجهات ويب أو خدمات خلفية.